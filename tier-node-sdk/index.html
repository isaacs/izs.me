<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@tier.run/sdk</title><meta name="description" content="Documentation for @tier.run/sdk"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@tier.run/sdk</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@tier.run/sdk </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#tier-sdk" id="tier-sdk" style="color: inherit; text-decoration: none;">
  <h1>tier-sdk</h1>
</a>
<p>SDK for using <a href="https://app.tier.run">https://app.tier.run</a> in Node.js applications</p>

<a href="#installing" id="installing" style="color: inherit; text-decoration: none;">
  <h2>INSTALLING</h2>
</a>
<pre><code class="language-bash"><span class="hl-0">npm install @tier.run/sdk</span>
</code></pre>

<a href="#overview" id="overview" style="color: inherit; text-decoration: none;">
  <h2>Overview</h2>
</a>
<p>This is the SDK that can may be used to integrate Tier into your
application. More details on the general concepts used by Tier
may be found at <a href="https://app.tier.run/docs/">https://app.tier.run/docs/</a>.</p>

<a href="#cli-usage" id="cli-usage" style="color: inherit; text-decoration: none;">
  <h2>CLI USAGE</h2>
</a>
<pre><code><span class="hl-1">tier</span><span class="hl-0">: </span><span class="hl-1">usage</span><span class="hl-0">: </span><span class="hl-2">tier</span><span class="hl-0"> [</span><span class="hl-2">options</span><span class="hl-0">] &lt;</span><span class="hl-2">command</span><span class="hl-0">&gt;</span><br/><br/><span class="hl-1">Options</span><span class="hl-0">:</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">api</span><span class="hl-0">-</span><span class="hl-2">url</span><span class="hl-0">=&lt;</span><span class="hl-3">url</span><span class="hl-0">&gt;  </span><span class="hl-3">Set</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0"> </span><span class="hl-4">API</span><span class="hl-0"> </span><span class="hl-2">server</span><span class="hl-0"> </span><span class="hl-2">base</span><span class="hl-0"> </span><span class="hl-2">url</span><span class="hl-0">.</span><br/><span class="hl-0">                   </span><span class="hl-2">Defaults</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-4">TIER_API_URL</span><span class="hl-0"> </span><span class="hl-2">env</span><span class="hl-0">, </span><span class="hl-2">or</span><span class="hl-0"> </span><span class="hl-1">https</span><span class="hl-0">:</span><span class="hl-5">//api.tier.run/</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">web</span><span class="hl-0">-</span><span class="hl-2">url</span><span class="hl-0">=&lt;</span><span class="hl-3">url</span><span class="hl-0">&gt;  </span><span class="hl-3">Set</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0"> </span><span class="hl-2">web</span><span class="hl-0"> </span><span class="hl-2">server</span><span class="hl-0"> </span><span class="hl-2">base</span><span class="hl-0"> </span><span class="hl-2">url</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">use</span><span class="hl-0"> </span><span class="hl-2">for</span><span class="hl-0"> </span><span class="hl-2">login</span><span class="hl-0">.</span><br/><span class="hl-0">                   </span><span class="hl-2">Defaults</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-4">TIER_WEB_URL</span><span class="hl-0"> </span><span class="hl-2">env</span><span class="hl-0">, </span><span class="hl-2">or</span><span class="hl-0"> </span><span class="hl-1">https</span><span class="hl-0">:</span><span class="hl-5">//app.tier.run/</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">key</span><span class="hl-0">=&lt;</span><span class="hl-3">token</span><span class="hl-0">&gt;    </span><span class="hl-2">Specify</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">auth</span><span class="hl-0"> </span><span class="hl-2">token</span><span class="hl-0"> </span><span class="hl-2">for</span><span class="hl-0"> </span><span class="hl-2">Tier</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">use</span><span class="hl-0">.</span><br/><span class="hl-0">                   </span><span class="hl-2">Tokens</span><span class="hl-0"> </span><span class="hl-2">can</span><span class="hl-0"> </span><span class="hl-2">be</span><span class="hl-0"> </span><span class="hl-2">generated</span><span class="hl-0"> </span><span class="hl-2">manually</span><span class="hl-0"> </span><span class="hl-2">by</span><span class="hl-0"> </span><span class="hl-2">visiting</span><br/><span class="hl-0">                   &lt;</span><span class="hl-1">https</span><span class="hl-0">:</span><span class="hl-5">//app.tier.run/app/account/tokens&gt;,</span><br/><span class="hl-0">                   </span><span class="hl-2">minted</span><span class="hl-0"> </span><span class="hl-2">for</span><span class="hl-0"> </span><span class="hl-2">a</span><span class="hl-0"> </span><span class="hl-2">project</span><span class="hl-0"> </span><span class="hl-2">by</span><span class="hl-0"> </span><span class="hl-2">running</span><span class="hl-0"> </span><span class="hl-6">&#39;tier login&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">                   </span><span class="hl-2">or</span><span class="hl-0"> </span><span class="hl-2">set</span><span class="hl-0"> </span><span class="hl-7">in</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">environment</span><span class="hl-0"> </span><span class="hl-2">variable</span><span class="hl-0"> </span><span class="hl-4">TIER_KEY</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">auth</span><span class="hl-0">-</span><span class="hl-2">type</span><span class="hl-0">=&lt;</span><span class="hl-3">basic</span><span class="hl-0">|</span><span class="hl-3">bearer</span><span class="hl-0">&gt;</span><br/><span class="hl-0">                   </span><span class="hl-2">Tell</span><span class="hl-0"> </span><span class="hl-2">Tier</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">use</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">specified</span><span class="hl-0"> </span><span class="hl-2">auth</span><span class="hl-0"> </span><span class="hl-2">type</span><span class="hl-0">.  </span><span class="hl-2">Default</span><span class="hl-0">: </span><span class="hl-2">basic</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">debug</span><span class="hl-0"> -</span><span class="hl-2">v</span><span class="hl-0">       </span><span class="hl-2">Turn</span><span class="hl-0"> </span><span class="hl-2">debug</span><span class="hl-0"> </span><span class="hl-2">logging</span><span class="hl-0"> </span><span class="hl-2">on</span><br/><span class="hl-0">  --</span><span class="hl-2">no</span><span class="hl-0">-</span><span class="hl-2">debug</span><span class="hl-0"> -</span><span class="hl-4">V</span><span class="hl-0">    </span><span class="hl-2">Turn</span><span class="hl-0"> </span><span class="hl-2">debug</span><span class="hl-0"> </span><span class="hl-2">logging</span><span class="hl-0"> </span><span class="hl-2">off</span><br/><br/><span class="hl-0">  --</span><span class="hl-2">help</span><span class="hl-0"> -</span><span class="hl-2">h</span><span class="hl-0">        </span><span class="hl-2">Show</span><span class="hl-0"> </span><span class="hl-7">this</span><span class="hl-0"> </span><span class="hl-2">usage</span><span class="hl-0"> </span><span class="hl-2">screen</span><span class="hl-0">.</span><br/><br/><span class="hl-1">Commands</span><span class="hl-0">:</span><br/><br/><span class="hl-0">  </span><span class="hl-2">login</span><span class="hl-0">            </span><span class="hl-2">Log</span><span class="hl-0"> </span><span class="hl-7">in</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-4">CLI</span><span class="hl-0"> </span><span class="hl-2">by</span><span class="hl-0"> </span><span class="hl-2">authorizing</span><span class="hl-0"> </span><span class="hl-7">in</span><span class="hl-0"> </span><span class="hl-2">your</span><span class="hl-0"> </span><span class="hl-2">web</span><span class="hl-0"> </span><span class="hl-2">browser</span><span class="hl-0">.</span><br/><span class="hl-0">                   </span><span class="hl-2">Tokens</span><span class="hl-0"> </span><span class="hl-2">are</span><span class="hl-0"> </span><span class="hl-2">stored</span><span class="hl-0"> </span><span class="hl-2">scoped</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">each</span><span class="hl-0"> </span><span class="hl-2">project</span><span class="hl-0"> </span><span class="hl-2">working</span><span class="hl-0"> </span><span class="hl-2">directory</span><br/><span class="hl-0">                   </span><span class="hl-2">and</span><span class="hl-0"> </span><span class="hl-4">API</span><span class="hl-0"> </span><span class="hl-2">server</span><span class="hl-0">, </span><span class="hl-2">and</span><span class="hl-0"> </span><span class="hl-2">will</span><span class="hl-0"> </span><span class="hl-2">not</span><span class="hl-0"> </span><span class="hl-2">be</span><span class="hl-0"> </span><span class="hl-2">active</span><span class="hl-0"> </span><span class="hl-2">outside</span><span class="hl-0"> </span><span class="hl-7">of</span><span class="hl-0"> </span><span class="hl-2">that</span><br/><span class="hl-0">                   </span><span class="hl-2">environment</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">logout</span><span class="hl-0">           </span><span class="hl-2">Remove</span><span class="hl-0"> </span><span class="hl-2">a</span><span class="hl-0"> </span><span class="hl-2">login</span><span class="hl-0"> </span><span class="hl-2">token</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-2">your</span><span class="hl-0"> </span><span class="hl-2">system</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">projectDir</span><span class="hl-0">       </span><span class="hl-2">Show</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">current</span><span class="hl-0"> </span><span class="hl-2">project</span><span class="hl-0"> </span><span class="hl-2">directory</span><span class="hl-0"> </span><span class="hl-2">that</span><span class="hl-0"> </span><span class="hl-2">login</span><span class="hl-0"> </span><span class="hl-2">tokens</span><span class="hl-0"> </span><span class="hl-2">are</span><br/><span class="hl-0">                   </span><span class="hl-2">scoped</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">push</span><span class="hl-0"> &lt;</span><span class="hl-2">jsonfile</span><span class="hl-0">&gt;  </span><span class="hl-2">Push</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">pricing</span><span class="hl-0"> </span><span class="hl-2">model</span><span class="hl-0"> </span><span class="hl-2">defined</span><span class="hl-0"> </span><span class="hl-7">in</span><span class="hl-0"> &lt;</span><span class="hl-2">jsonfile</span><span class="hl-0">&gt; </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">Tier</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">pull</span><span class="hl-0">             </span><span class="hl-2">Show</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">current</span><span class="hl-0"> </span><span class="hl-2">model</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">whoami</span><span class="hl-0">           </span><span class="hl-2">Get</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">organization</span><span class="hl-0"> </span><span class="hl-4">ID</span><span class="hl-0"> </span><span class="hl-2">associated</span><span class="hl-0"> </span><span class="hl-8">with</span><span class="hl-0"> </span><span class="hl-2">the</span><span class="hl-0"> </span><span class="hl-2">current</span><span class="hl-0"> </span><span class="hl-2">login</span><span class="hl-0">.</span><br/><br/><span class="hl-0">  </span><span class="hl-2">fetch</span><span class="hl-0"> &lt;</span><span class="hl-2">path</span><span class="hl-0">&gt;     </span><span class="hl-2">Make</span><span class="hl-0"> </span><span class="hl-2">an</span><span class="hl-0"> </span><span class="hl-2">arbitrary</span><span class="hl-0"> </span><span class="hl-2">request</span><span class="hl-0"> </span><span class="hl-2">to</span><span class="hl-0"> </span><span class="hl-2">a</span><span class="hl-0"> </span><span class="hl-2">Tier</span><span class="hl-0"> </span><span class="hl-4">API</span><span class="hl-0"> </span><span class="hl-2">endpoint</span><span class="hl-0">.</span>
</code></pre>

<a href="#api" id="api" style="color: inherit; text-decoration: none;">
  <h2>API</h2>
</a>

<a href="#tierclient-constructor" id="tierclient-constructor" style="color: inherit; text-decoration: none;">
  <h3>TierClient Constructor</h3>
</a>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-0"> { </span><span class="hl-2">TierClient</span><span class="hl-0"> } </span><span class="hl-8">from</span><span class="hl-0"> </span><span class="hl-6">&#39;@tier.run/sdk&#39;</span><br/><span class="hl-5">// or: const { TierClient } = require(&#39;@tier.run/sdk&#39;)</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">tier</span><span class="hl-0"> = </span><span class="hl-7">new</span><span class="hl-0"> </span><span class="hl-9">TierClient</span><span class="hl-0">()</span>
</code></pre>

<a href="#options" id="options" style="color: inherit; text-decoration: none;">
  <h4>Options:</h4>
</a>
<p>The default options are likely fine, with the exception of
<code>tierKey</code>, which is of course unique.</p>
<ul>
<li><code>tierKey</code>: The API token minted on
<a href="https://app.tier.run/app/account/tokens">tier.run</a>. Defaults to
the value of the <code>TIER_KEY</code> environment variable.</li>
<li><code>authStore</code>: An object implementing <code>get(cwd, apiUrl)</code>,
<code>set(cwd, apiUrl, token)</code>, and <code>delete(cwd, apiUrl)</code> methods.
Default implementation stores tokens on the filesystem in
<code>~/.config/tier/tokens</code>, owned by the current user, with mode
<code>0o600</code>.</li>
<li><code>authType</code>: Either <code>&#39;basic&#39;</code> or <code>&#39;bearer&#39;</code>. Default is
<code>&#39;basic&#39;</code>. In most cases, there is no reason to change this.</li>
<li><code>apiUrl</code>: The url to hit for most API requests. Default:
<code>https://api.tier.run</code>. <!-- TODO: move login and pricing
pages to tierd, and coalesce these into one tierUrl --></li>
<li><code>webUrl</code>: The url to hit for fetches to the <code>tier.run</code> website.
Default: <code>https://app.tier.run</code> <!-- TODO: move login and pricing
pages to tierd, and coalesce these into one tierUrl --></li>
</ul>

<a href="#tierclientfromcwdoptions-tiersettings" id="tierclientfromcwdoptions-tiersettings" style="color: inherit; text-decoration: none;">
  <h3><code>TierClient.fromCwd(options?: TierSettings)</code></h3>
</a>
<p>Load a Tier client with a token found in the <code>authStore</code> (see
options above), based on the specified apiUrl and current project
directory.</p>

<a href="#tierjsurl-string" id="tierjsurl-string" style="color: inherit; text-decoration: none;">
  <h3><code>tierJSUrl(): string</code></h3>
</a>
<p>Return the URL to the <code>tier.js</code> browser API. Include this
<code>tier.js</code> script on every page of your website.</p>

<a href="#tierstripeoptionsorg-orgname" id="tierstripeoptionsorg-orgname" style="color: inherit; text-decoration: none;">
  <h3><code>tier.stripeOptions(org: OrgName)</code></h3>
</a>
<p>Get the options to pass to the client-side call to
<code>Tier.paymentForm()</code>.</p>
<p>Posts to <code>/api/v1/stripe/options</code></p>
<!-- TODO: document tier.js, maybe pull into this library? -->


<a href="#tierstripesetuporg-orgname-setup_intent-string" id="tierstripesetuporg-orgname-setup_intent-string" style="color: inherit; text-decoration: none;">
  <h3><code>tier.stripeSetup(org: OrgName, setup_intent: string)</code></h3>
</a>
<p>Attempt to attach a payment method from a resolved stripe
<code>SetupIntent</code> ID.</p>
<p>Call this on the server-side when Stripe redirects the user back
to the page where you called <code>Tier.paymentForm()</code>, passing in the
string provided on the url search params.</p>
<p>The returned promise will resolve with the <code>{status: &quot;succeeded&quot;}</code> SetupIntent object if the payment method was
attached.</p>
<p>If the SetupIntent requires additional attention, then the
Promise will fail with an object indicating what needs to be
done.</p>
<p>For example:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-0"> { </span><span class="hl-2">isTierError</span><span class="hl-0">, </span><span class="hl-2">TierClient</span><span class="hl-0"> } </span><span class="hl-8">from</span><span class="hl-0"> </span><span class="hl-6">&#39;@tier.run/sdk&#39;</span><br/><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">tier</span><span class="hl-0"> = </span><span class="hl-2">TierClient</span><span class="hl-0">.</span><span class="hl-9">fromEnv</span><span class="hl-0">()</span><br/><br/><span class="hl-5">// account settings page</span><br/><span class="hl-2">app</span><span class="hl-0">.</span><span class="hl-9">get</span><span class="hl-0">(</span><span class="hl-6">&#39;/account&#39;</span><span class="hl-0">, </span><span class="hl-7">async</span><span class="hl-0"> (</span><span class="hl-2">req</span><span class="hl-0">, </span><span class="hl-2">res</span><span class="hl-0">) </span><span class="hl-7">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">org</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-9">lookupCurrentLoggedInUserSomehow</span><span class="hl-0">(</span><span class="hl-2">req</span><span class="hl-0">)</span><br/><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">u</span><span class="hl-0"> = </span><span class="hl-7">new</span><span class="hl-0"> </span><span class="hl-9">URL</span><span class="hl-0">(</span><span class="hl-2">req</span><span class="hl-0">.</span><span class="hl-2">url</span><span class="hl-0">, </span><span class="hl-6">&#39;http://x&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-2">u</span><span class="hl-0">.</span><span class="hl-2">searchParams</span><span class="hl-0">.</span><span class="hl-9">has</span><span class="hl-0">(</span><span class="hl-6">&#39;setup_intent&#39;</span><span class="hl-0">)) {</span><br/><span class="hl-0">    </span><span class="hl-5">// returning from Stripe payment method setup.</span><br/><span class="hl-0">    </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">stripeSetup</span><span class="hl-0">(</span><span class="hl-6">`org:</span><span class="hl-7">${</span><span class="hl-2">org</span><span class="hl-7">}</span><span class="hl-6">`</span><span class="hl-0">, </span><span class="hl-2">u</span><span class="hl-0">.</span><span class="hl-2">searchParams</span><span class="hl-0">.</span><span class="hl-9">get</span><span class="hl-0">(</span><span class="hl-6">&#39;setup_intent&#39;</span><span class="hl-0">))</span><br/><span class="hl-0">      </span><span class="hl-5">// payment method is now attached!</span><br/><span class="hl-0">    } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-2">er</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-9">isTierError</span><span class="hl-0">(</span><span class="hl-2">er</span><span class="hl-0">)) {</span><br/><span class="hl-0">        </span><span class="hl-5">// something bad happened!</span><br/><span class="hl-0">        </span><span class="hl-5">// handle this like any other server error,</span><br/><span class="hl-0">        </span><span class="hl-5">// log it, show error page, etc.</span><br/><span class="hl-0">        </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">serve5xxStatusPage</span><span class="hl-0">(</span><span class="hl-2">res</span><span class="hl-0">, </span><span class="hl-2">er</span><span class="hl-0">)</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-5">// the user has to do something</span><br/><span class="hl-0">        </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">redirect</span><span class="hl-0">(</span><span class="hl-2">res</span><span class="hl-0">, </span><span class="hl-2">er</span><span class="hl-0">.</span><span class="hl-2">redirect_to_url</span><span class="hl-0">.</span><span class="hl-2">url</span><span class="hl-0">, </span><span class="hl-10">303</span><span class="hl-0">)</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">stripeOptions</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">stripeOptions</span><span class="hl-0">(</span><span class="hl-6">`org:</span><span class="hl-7">${</span><span class="hl-2">org</span><span class="hl-7">}</span><span class="hl-6">`</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-9">showAccountSetupPage</span><span class="hl-0">(</span><span class="hl-2">res</span><span class="hl-0">)</span><br/><span class="hl-0">})</span>
</code></pre>

<a href="#tierappendphaseorg-orgname-plan-planname-effective-date" id="tierappendphaseorg-orgname-plan-planname-effective-date" style="color: inherit; text-decoration: none;">
  <h3><code>tier.appendPhase(org: OrgName, plan: PlanName, effective?: Date)</code></h3>
</a>
<p>Add a phase to the specified org&#39;s schedule. If not specified,
the <code>effective</code> date is the current time.</p>
<p>Posts to <code>/api/v1/append</code></p>

<a href="#reservations" id="reservations" style="color: inherit; text-decoration: none;">
  <h3>Reservations</h3>
</a>
<p>In order to record usage, Tier calls the <code>reserve</code> API.</p>
<p>Usage and limit amounts are based on best available data at the
moment recorded. Amounts reported by the Tier API are eventually
consistent, usually within a few ms. <!-- TKTK: figure out what
actual SLA/reliability guarantee we can make here --></p>
<p>All of the methods in this section post to <code>/api/v1/reserve</code>.</p>

<a href="#class-reservation" id="class-reservation" style="color: inherit; text-decoration: none;">
  <h4>Class <code>Reservation</code></h4>
</a>
<p>Returned by <code>tier.reserve()</code></p>
<ul>
<li>Properties:<ul>
<li><code>org</code>, <code>feature</code>, <code>n</code>, <code>now</code> The values used to make this
reservation.</li>
<li><code>used</code> The number of units of the feature that the org has
used once the reservation was made, or <code>-1</code> if the org
does not have the feature available on their plan.</li>
<li><code>limit</code> The limit of units of the feature that the org is
allowed, or <code>-2</code> if the org does not have the feature
available on their plan.</li>
<li><code>ok</code> True if the reservation was successful and the org
has not gone into an overage state.</li>
<li><code>overage</code> The number of units of the feature that the org
has consumed above their plan limit. Set to <code>1</code> if the
org does not have the feature available on their plan.</li>
<li><code>allowed</code> The number of units of the feature that the org
<em>should</em> be allowed to consume with this reservation. Ie,
the value of <code>n</code>, minus any overages.</li>
<li><code>remaining</code> The number of units of the feature that the org
is allowed to consume in total.</li>
</ul>
</li>
<li>Methods<ul>
<li><code>cancel() =&gt; Reservation</code> Roll back the reservation. For
example, use this if the total amount is not allowed, and
you do not wish to leave them in an overage state, or if
the feature could not be delivered to the user for some
reason. Returns a reservation for the negative amount.</li>
</ul>
</li>
</ul>

<a href="#simple-example" id="simple-example" style="color: inherit; text-decoration: none;">
  <h5>Simple Example</h5>
</a>
<p>Our customer is attempting to consume 1 of the <code>foo</code> feature.</p>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">res</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">reserve</span><span class="hl-0">(</span><span class="hl-6">&#39;org:acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;feature:foo&#39;</span><span class="hl-0">)</span><br/><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">ok</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-5">// proceed, all is good</span><br/><span class="hl-0">  </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-9">consumeOneFoo</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-2">er</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">// oh no!  it failed!  don&#39;t charge them for it</span><br/><span class="hl-0">    </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-9">cancel</span><span class="hl-0">()</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">} </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">// suggest they buy a bigger plan, maybe?</span><br/><span class="hl-0">  </span><span class="hl-9">showUpgradePlanUX</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#example-with-n-gt-1-partial-fulfillment" id="example-with-n-gt-1-partial-fulfillment" style="color: inherit; text-decoration: none;">
  <h5>Example with <code>n &gt; 1</code>, partial fulfillment</h5>
</a>
<p>If the number we&#39;re trying to reserve is greater than the amount
allowed, we may end up in a case where <em>some</em> is allowed, but not
<em>all</em> of the amount.</p>
<p>Let them consume the bit that they&#39;re allowed, but only that
much.</p>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">res</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">reserve</span><span class="hl-0">(</span><span class="hl-6">&#39;org:acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;feature:foo&#39;</span><span class="hl-0">, </span><span class="hl-10">10</span><span class="hl-0">)</span><br/><span class="hl-8">if</span><span class="hl-0"> (!</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">ok</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-5">// user not allowed to consume 10 foos</span><br/><span class="hl-0">  </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">allowed</span><span class="hl-0"> &gt; </span><span class="hl-10">0</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">// but they are allowed to consume SOME foos</span><br/><span class="hl-0">    </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">consumeSomeFoo</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">, </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">allowed</span><span class="hl-0">)</span><br/><span class="hl-0">  } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">// not allowed any at all</span><br/><span class="hl-0">    </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">fooNotAllowed</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">} </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">// totally fine, proceed</span><br/><span class="hl-0">  </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">consumeTenFoos</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-2">er</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">// oh no!  we failed to consume the foos!</span><br/><span class="hl-0">    </span><span class="hl-5">// make sure they aren&#39;t charged for them</span><br/><span class="hl-0">    </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-9">cancel</span><span class="hl-0">()</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#example-with-n-gt-1-all-or-nothing" id="example-with-n-gt-1-all-or-nothing" style="color: inherit; text-decoration: none;">
  <h5>Example with <code>n &gt; 1</code>, all or nothing</h5>
</a>
<p>Maybe the feature cannot be split up in that fashion. For
example, perhaps we are checking disk space usage when the
customer tries to upload a file, so allowing only <em>part</em> of the
file upload doesn&#39;t make much sense.</p>
<p>In this case, we don&#39;t want to use up their remaining allocation
on something we didn&#39;t actually do.</p>
<pre><code class="language-js"><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">res</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">reserve</span><span class="hl-0">(</span><span class="hl-6">&#39;org:acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;feature:foo&#39;</span><span class="hl-0">, </span><span class="hl-10">10</span><span class="hl-0">)</span><br/><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">ok</span><span class="hl-0">) {</span><br/><span class="hl-0">  </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-9">consumeTenFoos</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-2">er</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-5">// our feature failed, roll back the reservation</span><br/><span class="hl-0">    </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-9">cancel</span><span class="hl-0">()</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">} </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-9">cancel</span><span class="hl-0">()</span><br/><span class="hl-0">  </span><span class="hl-9">showSorryYouNeedToUpgradeMessage</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#example-with-soft-limit" id="example-with-soft-limit" style="color: inherit; text-decoration: none;">
  <h5>Example with soft limit</h5>
</a>
<p>Here, we check to see if they&#39;re allowed any, but if the actual
amount puts them into an overage state, we just let them proceed.</p>
<pre><code class="language-js"><span class="hl-5">// at least 1 is allowed</span><br/><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">can</span><span class="hl-0">(</span><span class="hl-6">&#39;org:acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;feature:foo&#39;</span><span class="hl-0">)) {</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">howMany</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-9">figureOutFooCount</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-7">const</span><span class="hl-0"> </span><span class="hl-4">res</span><span class="hl-0"> = </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">reserve</span><span class="hl-0">(</span><span class="hl-6">&#39;org:acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;feature:foo&#39;</span><span class="hl-0">, </span><span class="hl-2">howMany</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-9">consumeSomeFoos</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">, </span><span class="hl-2">howMany</span><span class="hl-0">)</span><br/><span class="hl-0">    </span><span class="hl-8">if</span><span class="hl-0"> (!</span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-2">remaining</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-9">showMessage</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;This is your last foo, need to upgrade&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-2">er</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">res</span><span class="hl-0">.</span><span class="hl-9">cancel</span><span class="hl-0">()</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">} </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">// not entitled to feature</span><br/><span class="hl-0">  </span><span class="hl-9">showMessage</span><span class="hl-0">(</span><span class="hl-6">&#39;acme&#39;</span><span class="hl-0">, </span><span class="hl-6">&#39;You have no foos remaining, please upgrade&#39;</span><span class="hl-0">)</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#tierreserveorg-feature-n--1-now--new-date" id="tierreserveorg-feature-n--1-now--new-date" style="color: inherit; text-decoration: none;">
  <h4><code>tier.reserve(org, feature, n = 1, now = new Date())</code></h4>
</a>
<p>Reserve <code>n</code> units of feature usage for the specified org, and
return the resulting used/limit amounts after making the
reservation. No guards against overages or limits.</p>
<p>If the user does not have the feature in their plan, returns
<code>{&quot;used&quot;:-1,&quot;limit&quot;:-2}</code></p>

<a href="#tiercurrentusageorg-feature-now--new-date" id="tiercurrentusageorg-feature-now--new-date" style="color: inherit; text-decoration: none;">
  <h4><code>tier.currentUsage(org, feature, now = new Date())</code></h4>
</a>
<p>Performs a reservation of count <code>0</code>, to return a <code>Reservation</code>
object reflecting the current usage state.</p>
<p>No side effects, does not increment usage.</p>

<a href="#tiercanorg-feature-n--1-now--new-date" id="tiercanorg-feature-n--1-now--new-date" style="color: inherit; text-decoration: none;">
  <h4><code>tier.can(org, feature, n = 1, now = new Date())</code></h4>
</a>
<p>Returns true if the org is allowed to consume the feature in the
amount specified (default: 1) as of the <code>now</code> date specified.</p>
<p>No side effects, does not increment usage.</p>
<pre><code class="language-js"><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-8">await</span><span class="hl-0"> </span><span class="hl-2">tier</span><span class="hl-0">.</span><span class="hl-9">can</span><span class="hl-0">(</span><span class="hl-2">org</span><span class="hl-0">, </span><span class="hl-2">feature</span><span class="hl-0">, </span><span class="hl-10">10</span><span class="hl-0">)) {</span><br/><span class="hl-0">  </span><span class="hl-5">// org is allowed to use 10 of feature</span><br/><span class="hl-0">  </span><span class="hl-5">// we haven&#39;t actually consumed them yet, however.</span><br/><span class="hl-0">} </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">// org is not allowed to use 10 of feature</span><br/><span class="hl-0">  </span><span class="hl-5">// they might be allowed to use fewer than that, though</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#tiercannotorg-feature-n--1-now--new-date" id="tiercannotorg-feature-n--1-now--new-date" style="color: inherit; text-decoration: none;">
  <h4><code>tier.cannot(org, feature, n = 1, now = new Date())</code></h4>
</a>
<p>Inverse of <code>can()</code>.</p>
<p>Returns true if the org is <em>not</em> allowed to consume the feature
in the amount specified (default: 1) as of the <code>now</code> date
specified.</p>
<p>No side effects, does not increment usage.</p>

<a href="#tierlookupscheduleorg-orgname-promiseltschedulegt" id="tierlookupscheduleorg-orgname-promiseltschedulegt" style="color: inherit; text-decoration: none;">
  <h3><code>tier.lookupSchedule(org: OrgName): Promise&lt;Schedule&gt;</code></h3>
</a>
<p>Look up the org&#39;s schedule. This includes a <code>phases</code> list of
<code>Phase</code> objects, and a <code>current</code> number indicating in the phases
array to the currently active phase.</p>
<p>Makes GET request to <code>/api/v1/schedule</code></p>

<a href="#tierlookupcurrentplanorg-orgname-promiseltplannamegt" id="tierlookupcurrentplanorg-orgname-promiseltplannamegt" style="color: inherit; text-decoration: none;">
  <h3><code>tier.lookupCurrentPlan(org: OrgName): Promise&lt;PlanName&gt;</code></h3>
</a>
<p>Fetch the user&#39;s current schedule, and return the name of the
plan that is currently active.</p>

<a href="#tierping-promiseltanygt" id="tierping-promiseltanygt" style="color: inherit; text-decoration: none;">
  <h3><code>tier.ping(): Promise&lt;any&gt;</code></h3>
</a>
<p>Makes a request to the Tier API service to verify that it is
reachable, and that the client&#39;s API token is valid.</p>

<a href="#tierpushmodelmodel-model" id="tierpushmodelmodel-model" style="color: inherit; text-decoration: none;">
  <h3><code>tier.pushModel(model: Model)</code></h3>
</a>
<p>Push the pricing model definition to Tier.</p>

<a href="#tierpullmodel" id="tierpullmodel" style="color: inherit; text-decoration: none;">
  <h3><code>tier.pullModel()</code></h3>
</a>
<p>Pull the full pricing model from Tier.</p>

<a href="#tierpullpricingpagename-string--39default39-promiseltpricingpagegt" id="tierpullpricingpagename-string--39default39-promiseltpricingpagegt" style="color: inherit; text-decoration: none;">
  <h3><code>tier.pullPricingPage(name: string = &#39;default&#39;): Promise&lt;PricingPage&gt;</code></h3>
</a>
<p>Pull a pricing page data object from Tier.</p>
<p>If a name is provided, then the named pricing page settings will
be fetched. Otherwise, it will pull the default pricing page
(ie, the latest lexically-sorted version of each plan name in the
model).</p>
<!-- NYI
### `tier.pushPricingPage(name: string, pp: PricingPage): Promise<null | {}>`
-->


<a href="#errors" id="errors" style="color: inherit; text-decoration: none;">
  <h2>Errors</h2>
</a>
<p>Any error encountered by Tier, whether a network failure or
non-2xx response code, will raise a <code>TierError</code>.</p>
<p>This is similar to a regular Error object, but with the following
data attached:</p>
<ul>
<li><code>tierError.request</code> Data about the request being made<ul>
<li><code>tierError.request.method</code></li>
<li><code>tierError.request.url</code> string</li>
<li><code>tierError.request.headers</code> object, with any
<code>authorization</code> header redacted, so it is safe to log</li>
<li><code>tierError.request.body</code> (optional)</li>
</ul>
</li>
<li><code>tierError.response</code> Data about the response. Note that this
will be missing if a response was not successfully received.<ul>
<li><code>tierError.response.status</code> number</li>
<li><code>tierError.response.headers</code> object</li>
<li><code>tierError.response.body</code> string</li>
</ul>
</li>
</ul>

<a href="#internal-api-methods" id="internal-api-methods" style="color: inherit; text-decoration: none;">
  <h2>INTERNAL API METHODS</h2>
</a>
<p>These methods are used internally by the Tier SDK, you probably
don&#39;t need to call them yourself.</p>
<ul>
<li><code>async fetchOK&lt;T&gt;(path: string, options: RequestInit): Promise&lt;T&gt;</code></li>
<li><code>async getOK&lt;T&gt;(path: string): Promise&lt;T&gt;</code></li>
<li><code>async postFormOK&lt;T&gt;(path: string, body: { [key: string]: any }): Promise&lt;T&gt;</code></li>
<li><code>async postOK&lt;T&gt;(path: string, body: { [key: string]: any }): Promise&lt;T&gt;</code></li>
</ul>
<p>These each make a request to the Tier API, and verify that the
response is a <code>2xx</code> status code.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/AuthType.html" class="tsd-kind-icon">Auth<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/Mode.html" class="tsd-kind-icon">Mode</a></li><li class="tsd-kind-class"><a href="classes/Reservation.html" class="tsd-kind-icon">Reservation</a></li><li class="tsd-kind-class"><a href="classes/TierClient.html" class="tsd-kind-icon">Tier<wbr/>Client</a></li><li class="tsd-kind-class"><a href="classes/TierError.html" class="tsd-kind-icon">Tier<wbr/>Error</a></li><li class="tsd-kind-interface"><a href="interfaces/AuthStore.html" class="tsd-kind-icon">Auth<wbr/>Store</a></li><li class="tsd-kind-interface"><a href="interfaces/DeviceAccessTokenSuccessResponse.html" class="tsd-kind-icon">Device<wbr/>Access<wbr/>Token<wbr/>Success<wbr/>Response</a></li><li class="tsd-kind-interface"><a href="interfaces/DeviceAuthorizationSuccessResponse.html" class="tsd-kind-icon">Device<wbr/>Authorization<wbr/>Success<wbr/>Response</a></li><li class="tsd-kind-interface"><a href="interfaces/ErrorResponse.html" class="tsd-kind-icon">Error<wbr/>Response</a></li><li class="tsd-kind-interface"><a href="interfaces/Feature.html" class="tsd-kind-icon">Feature</a></li><li class="tsd-kind-interface"><a href="interfaces/Model.html" class="tsd-kind-icon">Model</a></li><li class="tsd-kind-interface"><a href="interfaces/Phase.html" class="tsd-kind-icon">Phase</a></li><li class="tsd-kind-interface"><a href="interfaces/Plan.html" class="tsd-kind-icon">Plan</a></li><li class="tsd-kind-interface"><a href="interfaces/PricingPage.html" class="tsd-kind-icon">Pricing<wbr/>Page</a></li><li class="tsd-kind-interface"><a href="interfaces/Schedule.html" class="tsd-kind-icon">Schedule</a></li><li class="tsd-kind-interface"><a href="interfaces/SetupIntent.html" class="tsd-kind-icon">Setup<wbr/>Intent</a></li><li class="tsd-kind-interface"><a href="interfaces/StripeOptions.html" class="tsd-kind-icon">Stripe<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/Tier.html" class="tsd-kind-icon">Tier</a></li><li class="tsd-kind-interface"><a href="interfaces/TierErrorRequest.html" class="tsd-kind-icon">Tier<wbr/>Error<wbr/>Request</a></li><li class="tsd-kind-interface"><a href="interfaces/TierErrorResponse.html" class="tsd-kind-icon">Tier<wbr/>Error<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeviceAccessTokenResponse" class="tsd-kind-icon">Device<wbr/>Access<wbr/>Token<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeviceAuthorizationResponse" class="tsd-kind-icon">Device<wbr/>Authorization<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FeatureName" class="tsd-kind-icon">Feature<wbr/>Name</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FeaturePrefix" class="tsd-kind-icon">Feature<wbr/>Prefix</a></li><li class="tsd-kind-type-alias"><a href="modules.html#OrgName" class="tsd-kind-icon">Org<wbr/>Name</a></li><li class="tsd-kind-type-alias"><a href="modules.html#OrgPrefix" class="tsd-kind-icon">Org<wbr/>Prefix</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PlanName" class="tsd-kind-icon">Plan<wbr/>Name</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PlanPrefix" class="tsd-kind-icon">Plan<wbr/>Prefix</a></li><li class="tsd-kind-function"><a href="modules.html#isSetupIntent" class="tsd-kind-icon">is<wbr/>Setup<wbr/>Intent</a></li><li class="tsd-kind-function"><a href="modules.html#isTierError" class="tsd-kind-icon">is<wbr/>Tier<wbr/>Error</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>